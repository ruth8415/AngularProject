<div class="task-card" (click)="openTaskDetails()">
  <div class="task-header">
    <div class="task-title">{{ task().title }}</div>
    <div class="task-actions" (click)="$event.stopPropagation()">
      <button mat-icon-button (click)="openComments($event)" matTooltip="Comments">
        <mat-icon>chat</mat-icon>
      </button>
      <button mat-icon-button (click)="editTask($event)" matTooltip="Edit">
        <mat-icon>edit</mat-icon>
      </button>
      <button mat-icon-button (click)="deleteTask($event)" color="warn" matTooltip="Delete">
        <mat-icon>delete</mat-icon>
      </button>
    </div>
  </div>
  
  <div class="task-meta">
    @if (task().projectName) {
      <span class="meta-item">
        <mat-icon>folder</mat-icon>
        {{ task().projectName }}
      </span>
    }
    @if (task().teamName) {
      <span class="meta-item">
        <mat-icon>groups</mat-icon>
        {{ task().teamName }}
      </span>
    }
    @if (task().dueDate) {
      <span class="meta-item">
        <mat-icon>event</mat-icon>
        {{ formatDate(task().dueDate) }}
      </span>
    }
  </div>
  
  <div class="task-badges">
    <span class="status-badge" [class]="'status-' + task().status">
      {{ getStatusLabel(task().status) }}
    </span>
    <span class="priority-badge" [class]="'priority-' + task().priority">
      {{ getPriorityLabel(task().priority) }}
    </span>
  </div>
</div>